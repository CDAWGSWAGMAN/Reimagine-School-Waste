<!-- Full updated signup.html code with school level and state selection -->
<!DOCTYPE html>
<html>
<head>
    <title>Lunch Out of Landfills - Sign Up</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        @import url('https://fonts.googleapis.com/css?family=Poppins:400,700,900');
    </style>
</head>
<body>

<nav>
    <div class="logo">
        <img src="images/LOOL.png" alt="LOOL Logo" onclick="window.location.href='index.html';">
    </div>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="tool_kit.html">Tool Kit</a></li>
        <li><a href="How_to.html">Getting Started</a></li>
        <li><a href="data.html">Data</a></li>
        <li><a href="Contact.html">Connect</a></li>
        <li><a href="Community.html">Community Forms</a></li>
    </ul>
    <div class="auth-buttons">
        <a href="login.html" class="button">Login</a>
    </div>
</nav>

<br>

<div class="signup-container">
    <h2>Create an Account</h2>
    <form id="signupForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" maxlength="50" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" maxlength="100" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>

        <label for="school_level">School Level:</label>
        <select id="school_level" name="school_level" required>
            <option value="">Select a level</option>
            <option value="Elementary">Elementary</option>
            <option value="Middle">Middle</option>
            <option value="High">High</option>
            <option value="University">University</option>
        </select>

        <label for="state">State:</label>
        <select id="state" name="state" required>
            <option value="">Select your state</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
        </select>

        <br>
        <button type="submit">Sign Up</button>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const signupForm = document.getElementById('signupForm');
        if (signupForm) {
            signupForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                const formData = {
                    username: document.getElementById('username').value,
                    email: document.getElementById('email').value,
                    password: document.getElementById('password').value,
                    school_level: document.getElementById('school_level').value,
                    state: document.getElementById('state').value
                };

                try {
                    const res = await fetch('signup.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });

                    const result = await res.json();
                    if (result.success) {
                        alert('Account created successfully!');
                        window.location.href = result.redirect || 'login.html';
                    } else {
                        alert(result.error || 'Signup failed.');
                    }
                } catch (err) {
                    console.error('Fetch error:', err);
                    alert('Something went wrong. Try again.');
                }
            });
        }
    });
</script>

<script src="app.js"></script>
</body>
</html>
